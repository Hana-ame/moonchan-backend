package db

import (
	"fmt"
	"testing"
)

func TestCompress(t *testing.T) {
	rData := []byte(`[{"id":"109778246146609780","created_at":"2023-01-30T12:51:41.602Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"zh","uri":"https://o3o.ca/users/misak/statuses/109778246146609780","url":"https://o3o.ca/@misak/109778246146609780","replies_count":5,"reblogs_count":194,"favourites_count":89,"edited_at":null,"content":"\u003cp\u003eå–œæ¬¢è¯»ä¹¦çš„uuä»¬æ³¨æ„å•¦ï¼\u003cbr /\u003eZ-Library ç§æœ‰åŸŸåä¸Šçº¿å•¦ï¼ï¼ï¼\u003c/p\u003e\u003cp\u003eåªè¦ä»¥å‰æ›¾ç»æèµ è¿‡æˆ–è€…ç°åœ¨æèµ ï¼Œç™»å½•åè‡ªåŠ¨ä¼šè·³è½¬åˆ°åˆ†é…ç»™ä½ çš„ç§æœ‰åŸŸåã€‚æ¯•ç«Ÿæ˜¯ç§æœ‰çš„ï¼Œæ²¡è¢«å¢™å’Œéš¾ä»¥è¢«å¢™ç®€ç›´ç†æ‰€å½“ç„¶ã€‚\u003c/p\u003e\u003cp\u003epsï¼šå¸Œæœ›å®ƒèƒ½æ´»å¾—ä¹…ä¸€ç‚¹ :2010: \u003c/p\u003e\u003cp\u003eZ-Libraryç™»å½•åœ°å€ï¼ˆè¢«å¢™ï¼‰ï¼š\u003ca href=\"https://singlelogin.me\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"\"\u003esinglelogin.me\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"h-card\"\u003e\u003ca href=\"https://ovo.st/club/board\" class=\"u-url mention\"\u003e@\u003cspan\u003eboard\u003c/span\u003e\u003c/a\u003e\u003c/span\u003e\u003c/p\u003e","reblog":null,"application":{"name":"IceCubesApp","website":"https://github.com/Dimillian/IceCubesApp"},"account":{"id":"108450344158497330","username":"misak","acct":"misak","display_name":"Misaka :vip7:","locked":false,"bot":false,"discoverable":true,"group":false,"created_at":"2022-06-10T00:00:00.000Z","note":"\u003cp\u003eè·¨å¥³ï¼Œè¶…å¯çˆ± ğŸ³ï¸â€âš§ï¸ transfem, lesbian |\u003cbr /\u003eé€šå¸¸ä¼šå‘ä¸€äº›å¯çˆ±çš„çŒ«çŒ«ç‹—ç‹—ï¼ŒcytusIIç©å®¶ï¼Œç¾é£Ÿæ”¶é›†è€…ã€‚ä½†æ˜¯å…³æ³¨åä¼šæœ‰è´Ÿèƒ½é‡å†…å®¹ï¼Œå¦‚æœæ‰“æ‰°åˆ°æ‚¨çš„çœ¼ç›çœŸçš„å¾ˆå¯¹ä¸èµ· | \u003cbr /\u003eè­¦å‘Šâ™¥ï¸è¯·ä¸è¦ä»¥ä»»ä½•å½¢å¼è½¬è½½æˆ‘çš„ä»»ä½•ä¸€æ¡å˜Ÿå˜Ÿåˆ°å›½å†…å¹³å°ï¼Œæ„Ÿè°¢ |\u003cbr /\u003eå…¶ä»–ğŸƒå…³æ³¨å’Œå–å…³éƒ½è¯·éšæ„ï¼Œæˆ‘å¯¹è¿™ä»¶äº‹å¹¶ä¸æ•æ„Ÿï¼Œè¯·ä¸€å®šä¸è¦æœ‰ä»»ä½•å¿ƒç†å‹åŠ›ï¼Œå½“ä¸€åªå¿«å¿«ä¹ä¹çš„æ¯›è±¡æœ€é‡è¦å•¦ | \u003cbr /\u003eæ„Ÿè°¢ğŸ™æ‚¨æŸ¥çœ‹æˆ‘çš„ä¸ªäººèµ„æ–™ï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½ä¸€èµ·åº¦è¿‡æœ€æ„‰å¿«çš„æ—¶å…‰ |\u003c/p\u003e","url":"https://o3o.ca/@misak","avatar":"https://mstdn-s3.o3o.studio/accounts/avatars/108/450/344/158/497/330/original/fcdf694ede2fc977.png","avatar_static":"https://mstdn-s3.o3o.studio/accounts/avatars/108/450/344/158/497/330/original/fcdf694ede2fc977.png","header":"https://mstdn-s3.o3o.studio/accounts/headers/108/450/344/158/497/330/original/e9157d0232efdd24.jpeg","header_static":"https://mstdn-s3.o3o.studio/accounts/headers/108/450/344/158/497/330/original/e9157d0232efdd24.jpeg","followers_count":76,"following_count":155,"statuses_count":601,"last_status_at":"2023-01-30","noindex":true,"emojis":[{"shortcode":"vip7","url":"https://mstdn-s3.o3o.studio/custom_emojis/images/000/000/949/original/d139ea730c37e4b3.png","static_url":"https://mstdn-s3.o3o.studio/custom_emojis/images/000/000/949/static/d139ea730c37e4b3.png","visible_in_picker":true}],"fields":[{"name":"MatrixğŸ’¬ğŸ“","value":"\u003cspan class=\"h-card\"\u003e\u003ca href=\"https://o3o.ca/@misak\" class=\"u-url mention\"\u003e@\u003cspan\u003emisak\u003c/span\u003e\u003c/a\u003e\u003c/span\u003e:o3o.cafe","verified_at":null},{"name":"NeoDB(ä¹¦å½±éŸ³æ¸¸)","value":"\u003ca href=\"https://neodb.social/users/misak@o3o.ca/\" target=\"_blank\" rel=\"nofollow noopener noreferrer me\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003eneodb.social/users/misak@o3o.c\u003c/span\u003e\u003cspan class=\"invisible\"\u003ea/\u003c/span\u003e\u003c/a\u003e","verified_at":"2022-07-10T04:08:53.915+00:00"},{"name":"PGPæŒ‡çº¹","value":"å¾…è¡¥å……","verified_at":null},{"name":"è­¦å‘Šâ™¥ï¸","value":"è¯·ä¸è¦ä»¥ä»»ä½•å½¢å¼è½¬è½½æˆ‘çš„ä»»ä½•ä¸€æ¡å˜Ÿå˜Ÿåˆ°å›½å†…å¹³å°ï¼Œæ„Ÿè°¢","verified_at":null}]},"media_attachments":[{"id":"109778222590315450","type":"image",]`)
	fmt.Println(len(rData))
	cData := Compress(rData)
	fmt.Println(len(cData))
	recover := UnCompress(cData)
	fmt.Println(string(recover))

}

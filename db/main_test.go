package db

import (
	"fmt"
	"testing"
)

func TestCompress(t *testing.T) {
	rData := []byte(`[{"id":"109778246146609780","created_at":"2023-01-30T12:51:41.602Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"zh","uri":"https://o3o.ca/users/misak/statuses/109778246146609780","url":"https://o3o.ca/@misak/109778246146609780","replies_count":5,"reblogs_count":194,"favourites_count":89,"edited_at":null,"content":"\u003cp\u003e喜欢读书的uu们注意啦！\u003cbr /\u003eZ-Library 私有域名上线啦！！！\u003c/p\u003e\u003cp\u003e只要以前曾经捐赠过或者现在捐赠，登录后自动会跳转到分配给你的私有域名。毕竟是私有的，没被墙和难以被墙简直理所当然。\u003c/p\u003e\u003cp\u003eps：希望它能活得久一点 :2010: \u003c/p\u003e\u003cp\u003eZ-Library登录地址（被墙）：\u003ca href=\"https://singlelogin.me\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"\"\u003esinglelogin.me\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class=\"h-card\"\u003e\u003ca href=\"https://ovo.st/club/board\" class=\"u-url mention\"\u003e@\u003cspan\u003eboard\u003c/span\u003e\u003c/a\u003e\u003c/span\u003e\u003c/p\u003e","reblog":null,"application":{"name":"IceCubesApp","website":"https://github.com/Dimillian/IceCubesApp"},"account":{"id":"108450344158497330","username":"misak","acct":"misak","display_name":"Misaka :vip7:","locked":false,"bot":false,"discoverable":true,"group":false,"created_at":"2022-06-10T00:00:00.000Z","note":"\u003cp\u003e跨女，超可爱 🏳️‍⚧️ transfem, lesbian |\u003cbr /\u003e通常会发一些可爱的猫猫狗狗，cytusII玩家，美食收集者。但是关注后会有负能量内容，如果打扰到您的眼睛真的很对不起 | \u003cbr /\u003e警告♥️请不要以任何形式转载我的任何一条嘟嘟到国内平台，感谢 |\u003cbr /\u003e其他🎃关注和取关都请随意，我对这件事并不敏感，请一定不要有任何心理压力，当一只快快乐乐的毛象最重要啦 | \u003cbr /\u003e感谢🙏您查看我的个人资料，希望我们能一起度过最愉快的时光 |\u003c/p\u003e","url":"https://o3o.ca/@misak","avatar":"https://mstdn-s3.o3o.studio/accounts/avatars/108/450/344/158/497/330/original/fcdf694ede2fc977.png","avatar_static":"https://mstdn-s3.o3o.studio/accounts/avatars/108/450/344/158/497/330/original/fcdf694ede2fc977.png","header":"https://mstdn-s3.o3o.studio/accounts/headers/108/450/344/158/497/330/original/e9157d0232efdd24.jpeg","header_static":"https://mstdn-s3.o3o.studio/accounts/headers/108/450/344/158/497/330/original/e9157d0232efdd24.jpeg","followers_count":76,"following_count":155,"statuses_count":601,"last_status_at":"2023-01-30","noindex":true,"emojis":[{"shortcode":"vip7","url":"https://mstdn-s3.o3o.studio/custom_emojis/images/000/000/949/original/d139ea730c37e4b3.png","static_url":"https://mstdn-s3.o3o.studio/custom_emojis/images/000/000/949/static/d139ea730c37e4b3.png","visible_in_picker":true}],"fields":[{"name":"Matrix💬📞","value":"\u003cspan class=\"h-card\"\u003e\u003ca href=\"https://o3o.ca/@misak\" class=\"u-url mention\"\u003e@\u003cspan\u003emisak\u003c/span\u003e\u003c/a\u003e\u003c/span\u003e:o3o.cafe","verified_at":null},{"name":"NeoDB(书影音游)","value":"\u003ca href=\"https://neodb.social/users/misak@o3o.ca/\" target=\"_blank\" rel=\"nofollow noopener noreferrer me\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"ellipsis\"\u003eneodb.social/users/misak@o3o.c\u003c/span\u003e\u003cspan class=\"invisible\"\u003ea/\u003c/span\u003e\u003c/a\u003e","verified_at":"2022-07-10T04:08:53.915+00:00"},{"name":"PGP指纹","value":"待补充","verified_at":null},{"name":"警告♥️","value":"请不要以任何形式转载我的任何一条嘟嘟到国内平台，感谢","verified_at":null}]},"media_attachments":[{"id":"109778222590315450","type":"image",]`)
	fmt.Println(len(rData))
	cData := Compress(rData)
	fmt.Println(len(cData))
	recover := UnCompress(cData)
	fmt.Println(string(recover))

}
